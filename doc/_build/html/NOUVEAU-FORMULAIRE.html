

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ajouter un nouveau patron de formulaire &mdash; Documentation PolyForms 0.1</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="prev" title="Accéder au lien d’activation d’un compte utilisateur" href="UTILISATEURS.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PolyForms
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Installer PolyForms</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#deployer-polyforms">Déployer PolyForms</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#eteindre-polyforms">Éteindre PolyForms</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#desinstaller-polyforms">Désinstaller PolyForms</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADMIN.html">Créer un nouvel utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADMIN.html#mettre-a-jour-un-compte-utilisateur">Mettre à jour un compte utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADMIN.html#supprimer-un-compte-utilisateur">Supprimer un compte utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADMIN.html#reinitialiser-le-mot-de-passe-d-un-compte-utilisateur">Réinitialiser le mot de passe d’un compte utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORMULAIRES.html">Créer une nouvelle instance de formulaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORMULAIRES.html#obtenir-la-liste-des-formulaires">Obtenir la liste des formulaires</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORMULAIRES.html#obtenir-un-formulaire">Obtenir un formulaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORMULAIRES.html#obtenir-les-formulaires-d-un-utilisateur">Obtenir les formulaires d’un utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORMULAIRES.html#modifier-un-formulaire">Modifier un formulaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="FORMULAIRES.html#valider-archiver-un-formulaire">Valider/Archiver un formulaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="UTILISATEURS.html">Accéder au lien d’activation d’un compte utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="UTILISATEURS.html#activer-un-compte-definir-un-mot-de-passe">Activer un compte : définir un mot de passe</a></li>
<li class="toctree-l1"><a class="reference internal" href="UTILISATEURS.html#authentification">Authentification</a></li>
<li class="toctree-l1"><a class="reference internal" href="UTILISATEURS.html#obtenir-la-liste-d-utilisateurs">Obtenir la liste d’utilisateurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="UTILISATEURS.html#obtenir-un-utilisateur-par-son-id">Obtenir un utilisateur par son ID</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ajouter un nouveau patron de formulaire</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PolyForms</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Ajouter un nouveau patron de formulaire</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/NOUVEAU-FORMULAIRE.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ajouter-un-nouveau-patron-de-formulaire">
<h1>Ajouter un nouveau patron de formulaire<a class="headerlink" href="#ajouter-un-nouveau-patron-de-formulaire" title="Lien permanent vers ce titre">¶</a></h1>
<p>Pour ajouter un nouveau patron de formulaire</p>
<ol class="arabic">
<li><p class="first">Créer un nouveau composant, par exemple le compoasant NouveauFormulaire. Il doit être dans le dossier templates.
.. code-block:: guess</p>
<blockquote>
<div><p>$ cd templates
$ ng g c NouveauFormulaire</p>
</div></blockquote>
</li>
<li><p class="first">Dans le fichier .ts du nouveau composant, le développeur doit créer une nouvelle Interface le représentant.</p>
</li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">INouveauFormulaire</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>l’interface doit contenir un filed: {id: string, assigneA:string, …}
un champ obligatoire signatures: ISignature[]</li>
<li>Pour chaque section du que contiendra le nouveau formulaire, la nouvelle interface de ce formulaire doir contenir un objet pour chaque secion</li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">INouveauFormulaire</span>
<span class="p">{</span>
    <span class="nx">section1</span><span class="o">:</span> <span class="p">{...}</span>
    <span class="nx">section2</span><span class="o">:</span> <span class="p">{...}</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>Les objets sections doivent obligatoirement contenir les attributs <em>id</em> et <em>assigneA</em>.</li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">INouveauFormulaire</span>
<span class="p">{</span>
    <span class="nx">section1</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">id</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="nx">assigneA</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">}</span>
    <span class="nx">section2</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">id</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="nx">assigneA</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>Les objets sections doivent également contenir un attribut signatures qui initialisera un tableau de nouvelles signatuers. Dépendamment du nombre de signatures souhaités, le nombre d’instanciation changera. Le titre des champs de signatures sont modifiables dans le constructeur de la class Signature. La classe signature se trouve dans le fichier <em>fields.ts</em>.</li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">INouveauFormulaire</span>
<span class="p">{</span>
    <span class="nx">section1</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">id</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="nx">assigneA</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">}</span>
    <span class="nx">section2</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">id</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="nx">assigneA</span>: <span class="kt">string</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">}</span>
    <span class="nx">signatures</span> <span class="o">=</span> <span class="p">[</span>
        <span class="k">new</span> <span class="nx">Signature</span><span class="p">(</span><span class="s2">&quot;sig-boursier&quot;</span><span class="p">,</span> <span class="s2">&quot;SIGNATURE DU BOURSIER&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Signature</span><span class="p">(</span><span class="s2">&quot;sig-titulaire&quot;</span><span class="p">,</span> <span class="s2">&quot;SIGNATURE DU (DES) TITULAIRES(S) DE SUBVENTION&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Signature</span><span class="p">(</span><span class="s2">&quot;sig-autorise&quot;</span><span class="p">,</span> <span class="s2">&quot;SIGNATURE(S) AUTORISÉE(S)&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Signature</span><span class="p">(</span><span class="s2">&quot;sig-finances&quot;</span><span class="p">,</span> <span class="s2">&quot;SERVICE DES FINANCES&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">),</span>
    <span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>Dans le <em>.ts</em> du nouveau composant, faire en sorte que la classe <em>extends</em> BaseFormComponent et implémente INouveauFormulaire.</li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="kr">export</span> <span class="kr">class</span> <span class="nx">NewFormFormComponent</span> <span class="kr">extends</span> <span class="nx">BaseFormComponent</span> <span class="kr">implements</span> <span class="nx">INewForm</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic">
<li><p class="first">Initialiser les attributs de la classe du nouveau composant du nouveau formulaire. Ceux-ci doivent être les mêmes que ceux de son interface. Lors de l’utilisation de tableau, des lignes (au moins 1) doit être initialiser. De plus, la construction des Signature doit être dans un tableau de Signature.
<a href="#id1"><span class="problematic" id="id2">``</span></a>`
export class NewFormFormComponent extends BaseFormComponent implements INewForm {
section1 = {</p>
<blockquote>
<div><p>id: «&nbsp;section1&nbsp;»,
assigneA: null,
…</p>
</div></blockquote>
<p>};
section1 = {</p>
<blockquote>
<div><p>id: «&nbsp;section1&nbsp;»,
assigneA: null,
…</p>
</div></blockquote>
<blockquote>
<div><dl class="docutils">
<dt>tableau: [</dt>
<dd><p class="first last">{id:0, ubr:&nbsp;»«&nbsp;, compte:&nbsp;»«&nbsp;, unite:&nbsp;»«&nbsp;, percent:0, montant:0, },
{id:1, ubr:&nbsp;»«&nbsp;, compte:&nbsp;»«&nbsp;, unite:&nbsp;»«&nbsp;, percent:0, montant:0, },
{id:2, ubr:&nbsp;»«&nbsp;, compte:&nbsp;»«&nbsp;, unite:&nbsp;»«&nbsp;, percent:0, montant:0, },</p>
</dd>
</dl>
<p>],</p>
</div></blockquote>
<p>}
signatures = [</p>
<blockquote>
<div><p>new Signature(«&nbsp;sig-boursier&nbsp;», «&nbsp;SIGNATURE DU BOURSIER&nbsp;», null, «&nbsp;&nbsp;», false, false, false),
new Signature(«&nbsp;sig-titulaire&nbsp;», «&nbsp;SIGNATURE DU (DES) TITULAIRES(S) DE SUBVENTION&nbsp;», null, «&nbsp;&nbsp;», false, false, false),
new Signature(«&nbsp;sig-autorise&nbsp;», «&nbsp;SIGNATURE(S) AUTORISÉE(S)&nbsp;», null, «&nbsp;&nbsp;», false, false, false),
new Signature(«&nbsp;sig-finances&nbsp;», «&nbsp;SERVICE DES FINANCES&nbsp;», null, «&nbsp;&nbsp;», false, false, false),</p>
</div></blockquote>
<p>];</p>
</li>
</ol>
<p>}</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>9.  Obligatoire:
</pre></div>
</div>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>setSection(){
    this.section = [...]
    }
```
</pre></div>
</div>
<ol class="arabic">
<li><p class="first">this.dSventilation = new MatTableDataSource</p>
</li>
<li><p class="first">Pour chaque section dans le .html,
.. code-block:: guess</p>
<blockquote>
<div><p>&lt;div class = «&nbsp;section&nbsp;»&gt; // peut changer
&lt;div id = «&nbsp;$field&nbsp;»&gt; // exactement pareil</p>
</div></blockquote>
</li>
<li><p class="first">Pour les signaures,
.. code-block:: guess</p>
<blockquote>
<div><p>&lt;div <a href="#id3"><span class="problematic" id="id4">*</span></a>ngFor=&nbsp;»let sig of signatures&nbsp;»&gt;</p>
</div></blockquote>
</li>
<li><p class="first">instance.service.ts
Importer la nouvelle Interface</p>
</li>
<li><p class="first">template.service.ts
import new Component</p>
</li>
<li><p class="first">add it to FORMS_DATA {name:, id:, NewFormClass}</p>
</li>
<li><p class="first">add Interface to interface Instace «&nbsp;data&nbsp;»</p>
</li>
<li><p class="first">add interface to postInstance(formdata, …)</p>
</li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="UTILISATEURS.html" class="btn btn-neutral float-left" title="Accéder au lien d’activation d’un compte utilisateur" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Polytechnique Montréal

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>